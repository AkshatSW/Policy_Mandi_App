<nav x-data="{ isOpen: false }" class="shadow dark:bg-gray-900" style="background-color: #F2F2F2;">
  <div class="container px-6 py-4 mx-auto">
    <div class="lg:flex lg:items-center lg:justify-between">
      <div class="flex items-center justify-between">
        <div class="text-xl font-semibold text-gray-700">
          <a class="text-2xl font-bold text-gray-800 dark:text-black lg:text-3xl hover:text-gray-700 dark:hover:text-gray-300" href="/">
            <img src="{{ url_for('static', filename='assets/images/logo.png') }}" width="70%" alt="policymandi.in" style="max-width: 5rem; height: auto; background-color: transparent; mix-blend-mode: multiply;">
          </a>
        </div>

        <!-- Mobile menu button -->
        <div class="flex lg:hidden">
          <button x-cloak @click="isOpen = !isOpen" type="button"
            class="text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400"
            aria-label="toggle menu">
            <svg x-show="!isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 8h16M4 16h16" />
            </svg>
            <svg x-show="isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div x-cloak :class="[isOpen ? 'translate-x-0 opacity-100' : 'opacity-0 -translate-x-full']"
        class="absolute inset-x-0 z-20 w-full px-6 py-4 transition-all duration-300 ease-in-out bg-white shadow-md lg:bg-transparent lg:dark:bg-transparent lg:shadow-none dark:bg-gray-900 lg:mt-0 lg:p-0 lg:top-0 lg:relative lg:w-auto lg:opacity-100 lg:translate-x-0">
        <div class="-mx-4 lg:flex lg:items-center">

          <a href="/"
            class="flex flex-row items-center px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-black dark-mode:hover:text-black dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:block hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            style="color: #082126;">Home</a>

          <a href="/about"
            class="flex flex-row items-center px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-black dark-mode:hover:text-black dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:block hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            style="color: #082126;">About Us</a>

          <a href="/careers"
            class="flex flex-row items-center px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-black dark-mode:hover:text-black dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:block hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            style="color: #082126;">Careers</a>

          <div @click.away="open = false" class="relative" x-data="{ open: false }">
            <button @click="open = !open"
              class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-light bg-cta rounded-lg hover:bg-white-900 focus:bg-cta hover:text-white-900 focus:text-white focus:outline-none focus:shadow-outline">
              <span>Contact Us</span>
              <svg fill="currentColor" viewBox="0 0 20 20"
                :class="{'rotate-180': open, 'rotate-0': !open}"
                class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1">
                <path fill-rule="evenodd"
                  d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                  clip-rule="evenodd"></path>
              </svg>
            </button>

            <div x-show="open"
              x-transition:enter="transition ease-out duration-100"
              x-transition:enter-start="transform opacity-0 scale-95"
              x-transition:enter-end="transform opacity-100 scale-100"
              x-transition:leave="transition ease-in duration-75"
              x-transition:leave-start="transform opacity-100 scale-100"
              x-transition:leave-end="transform opacity-0 scale-95"
              class="absolute right-0 w-full mt-2 origin-top-right rounded-md shadow-lg">
              <div class="px-2 py-2 bg-white rounded-md shadow">
                <a href="tel:+917619911555"
                   class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
                   style="color: #082126;">Call Us</a>

                <a href="https://wa.me/917619911555" target="_blank"
                   class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
                   style="color: #082126;">WhatsApp</a>

                <a href="mailto:hello@policymandi.in"
                   class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
                   style="color: #082126;">Email</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</nav>

<!-- WhatsApp Floating Button -->
<a href="https://wa.me/917619911555" target="_blank" rel="noopener noreferrer"
   class="fixed bottom-4 left-4 z-50 bg-white p-4 rounded-full border-4 border-cta shadow-lg hover:shadow-highlight transition duration-300 ease-in-out flex items-center justify-center w-14 h-14">
 <img src="{{ url_for('static', filename='assets/images/whatsapp.svg') }}"
     alt="WhatsApp Icon"
     style="width: 1.5625rem; height: 1.5625rem; filter: invert(39%) sepia(96%) saturate(1049%) hue-rotate(89deg) brightness(96%) contrast(101%);" />
</a>

<!-- Call Floating Button -->
<a href="tel:+917619911555"
   class="fixed bottom-4 right-4 z-50 bg-white p-4 rounded-full border-4 border-cta shadow-lg hover:shadow-highlight transition duration-300 ease-in-out flex items-center justify-center w-14 h-14">
  <img src="{{ url_for('static', filename='assets/images/call.svg') }}" alt="Call Icon"
       class="w-5 h-5"
       style="filter: invert(27%) sepia(99%) saturate(749%) hue-rotate(186deg) brightness(95%) contrast(101%);" />
</a>
